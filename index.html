<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>이대중독 테스트</title>
  <style>
    @font-face {
      font-family: 'BlackAndWhitePicture';
      src: url('assets/BlackAndWhitePicture-Regular.ttf') format('truetype');
    }
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'BlackAndWhitePicture', serif;
    }
    body {
      background: #f8f8f8;
      color: #222;
      padding: 2rem;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: auto;
      padding: 2rem;
      border: 2px solid #111;
      background: white;
      box-shadow: 4px 4px 0 #111;
    }
    .question {
      margin: 2rem 0;
      font-size: 1.5rem;
    }
    .option {
      display: block;
      margin: 1rem auto;
      padding: 1rem;
      background: black;
      color: white;
      width: 80%;
      cursor: pointer;
    }
    .hidden {
      display: none;
    }
    .result {
      font-size: 1.3rem;
      margin-top: 2rem;
    }
    .footer {
      margin-top: 2rem;
      font-size: 0.9rem;
      color: #777;
    }
    img.intro {
      max-width: 100%;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <div class="container" id="mainContainer">
    <img src="assets/intro_comic.png" alt="인트로 만화" class="intro">
    <img src="assets/title_text.png" alt="타이틀 이미지" class="intro">
    <p>오직 도장팔이소녀들만이 치료해드릴 수 있습니다!<br>나에게 딱 맞는 도장 처방을 찾아 학관 14번 부스로 오세요...</p>
    <button onclick="startTest()">시작하기</button>
  </div>

  <script>
    const questions = [
      ["수업 중 교수님이 '이대는 어떤가요?'라고 물었다", "A. 자랑스럽게 답한다", "B. 속으로만 대답한다"],
      ["벗 단톡방이 조용할 때, 넌?", "A. 먼저 말 꺼낸다", "B. 침묵이 유지되면 같이 조용"],
      ["과제가 너무 많은 밤 11시", "A. 밈을 공유하며 웃어넘긴다", "B. 유튜브에 현실도피"],
      ["시험 끝나고 가장 먼저 하는 일은?", "A. 학점 계산 및 분석", "B. 과잠 입고 스티커 사냥"],
      ["EWHA 굿즈가 새로 나왔다!", "A. 실용성부터 체크", "B. 귀엽다? 일단 결제"],
      ["벗이 고민을 털어놨다", "A. 정리해주고 도장까지 추천", "B. 같이 울다가 내가 더 감정소모"]
    ];

    const results = {
      "AA": {
        title: "꼼꼼벗",
        text: "할 일, 계획, 분석에 진심인 너는 완벽주의형 이대생! 도장은 정리표에 줄 맞춰 찍는다.<br><br><b>도장 처방:</b> '정리된 인생이 편하다' / '계획은 나의 종교'"
      },
      "AB": {
        title: "무념무상벗",
        text: "오늘 하루를 왜 살았는지 기억 안 나지만 버틴 너에게 박수를! 도장은 대충 찍고 흘러간다.<br><br><b>도장 처방:</b> '대충 살아도 괜찮아' / '오늘도 버텼다'"
      },
      "BA": {
        title: "감성과다벗",
        text: "벗 단톡에서 울다 웃다 하는 감정과몰입형! 굿즈에 진심, 도장에 눈물.<br><br><b>도장 처방:</b> '감성 과다섭취 주의' / '눈물주의 도장입니다'"
      },
      "BB": {
        title: "불타는벗",
        text: "모든 것이 완벽히 계획된 전투형 이대생! 도장은 효율적으로, 깔끔하게.<br><br><b>도장 처방:</b> '기강 잡자' / '빡집중 중'"
      }
    };

    let currentQuestion = 0;
    let scoreA = 0;
    let scoreB = 0;

    function startTest() {
      document.getElementById("mainContainer").innerHTML = `
        <div id="quiz">
          <div id="questionBox" class="question"></div>
        </div>
        <div id="resultBox" class="hidden">
          <h2>결과</h2>
          <div id="resultText" class="result"></div>
        </div>
        <div class="footer">© 도장팔이소녀들 심리테스트 | 대동제 특집</div>
      `;
      showQuestion();
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      document.getElementById("questionBox").innerHTML =
        `<p>${q[0]}</p>
         <div class='option' onclick="selectAnswer('A')">${q[1]}</div>
         <div class='option' onclick="selectAnswer('B')">${q[2]}</div>`;
    }

    function selectAnswer(answer) {
      if (answer === "A") scoreA++;
      else scoreB++;

      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      document.getElementById("quiz").classList.add("hidden");
      document.getElementById("resultBox").classList.remove("hidden");

      const type = scoreA >= 5 ? "AA" : scoreA >= 3 ? "AB" : scoreB >= 5 ? "BB" : "BA";
      const result = results[type];
      document.getElementById("resultText").innerHTML = `<h3>${result.title}</h3><p>${result.text}</p>`;
    }
  </script>
</body>
</html>
